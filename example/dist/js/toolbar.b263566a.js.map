{"version":3,"sources":["webpack:///./src/views/Toolbar.vue?c1fa","webpack:///./src/views/Toolbar.vue?1cb2","webpack:///./src/assets/js/util.js","webpack:///src/views/Toolbar.vue","webpack:///./src/views/Toolbar.vue?fc56","webpack:///./src/views/Toolbar.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Toolbar_vue_vue_type_style_index_0_id_1104df5b_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Toolbar_vue_vue_type_style_index_0_id_1104df5b_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","content","fontSize","height","lang","theme","on","init","editorInit","onInput","editorInput","click","copyText","_v","class","disable","isUndoBtnDisabled","undo","isSaveBtnDisabled","save","isRedoBtnDisabled","redo","staticRenderFns","copy","val","textarea","document","createElement","style","value","body","appendChild","select","execCommand","removeChild","Toolbarvue_type_script_lang_js_","name","data","methods","localStorage","saveEditor","editor","updateBtnStatus","$refs","getValue","session","getUndoManager","isClean","hasRedo","hasUndo","views_Toolbarvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"2GAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAmeE,EAAG,qECAte,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAsB,CAAAF,EAAA,kBAAuBG,IAAA,SAAAC,MAAA,CAAoBC,QAAAT,EAAAS,QAAAC,SAAA,GAAAC,OAAA,QAAAC,KAAA,SAAAC,MAAA,WAAuFC,GAAA,CAAKC,KAAAf,EAAAgB,WAAAC,QAAAjB,EAAAkB,cAAiD,CAAAd,EAAA,MAAWE,YAAA,cAAyB,CAAAF,EAAA,MAAWU,GAAA,CAAIK,MAAAnB,EAAAoB,WAAsB,CAAApB,EAAAqB,GAAA,QAAAjB,EAAA,MAA0BkB,MAAA,CAAOC,QAAAvB,EAAAwB,mBAAgCV,GAAA,CAAKK,MAAAnB,EAAAyB,OAAkB,CAAAzB,EAAAqB,GAAA,QAAAjB,EAAA,MAA0BkB,MAAA,CAAOC,QAAAvB,EAAA0B,mBAAgCZ,GAAA,CAAKK,MAAAnB,EAAA2B,OAAkB,CAAA3B,EAAAqB,GAAA,QAAAjB,EAAA,MAA0BkB,MAAA,CAAOC,QAAAvB,EAAA4B,mBAAgCd,GAAA,CAAKK,MAAAnB,EAAA6B,OAAkB,CAAA7B,EAAAqB,GAAA,iBACzoBS,EAAA,GCAO,SAASC,EAAKC,GACjB,IAAMC,EAAWC,SAASC,cAAc,YACxCF,EAASG,MAAMzB,OAAS,EACxBsB,EAASI,MAAQL,EACjBE,SAASI,KAAKC,YAAYN,GAC1BA,EAASO,SACLN,SAASO,YAAY,SACrBP,SAASO,YAAY,QAEzBP,SAASI,KAAKI,YAAYT,GCc9B,IAAAU,EAAA,CACAC,KAAA,UACAC,KAFA,WAGA,OACAnB,mBAAA,EACAE,mBAAA,EACAJ,mBAAA,EACAf,QAAA,KAGAqC,QAAA,CACA9B,WADA,WAEApB,EAAA,QACAA,EAAA,QACAA,EAAA,QACAA,EAAA,QACAmD,aAAAC,aACA/C,KAAAQ,QAAAsC,aAAAC,aAGA9B,YAVA,SAUA+B,GACAhD,KAAAiD,gBAAAD,IAEA7B,SAbA,WAcAW,EAAA9B,KAAAkD,MAAAF,OAAAG,aAEAzB,KAhBA,WAiBA,IAAA1B,KAAAyB,kBAAA,CACA,IAAAuB,EAAAhD,KAAAkD,MAAAF,OAAAtB,KAAA,cACA1B,KAAAiD,gBAAAD,KAEApB,KArBA,WAsBA,IAAA5B,KAAA2B,kBAAA,CACA,IAAAqB,EAAAhD,KAAAkD,MAAAF,OAAApB,OACA5B,KAAAiD,gBAAAD,KAEAxB,KA1BA,WA2BA,IAAAxB,KAAAuB,kBAAA,CACA,IAAAyB,EAAAhD,KAAAkD,MAAAF,OAAAxB,OACAxB,KAAAiD,gBAAAD,KAEAC,gBA/BA,SA+BAD,GACAhD,KAAAyB,kBAAAuB,EAAAI,QAAAC,iBAAAC,UACAtD,KAAA2B,mBAAAqB,EAAAI,QAAAC,iBAAAE,UACAvD,KAAAuB,mBAAAyB,EAAAI,QAAAC,iBAAAG,aCpEiVC,EAAA,0BCQjVC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA3D,EACA+B,GACF,EACA,KACA,WACA,MAIA6B,EAAAG,QAAAC,OAAA,cACeC,EAAA,WAAAL","file":"js/toolbar.b263566a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=1104df5b&lang=css&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=1104df5b&lang=css&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolbar\"},[_c('vue-ace-editor',{ref:\"editor\",attrs:{\"content\":_vm.content,\"fontSize\":14,\"height\":\"300px\",\"lang\":\"python\",\"theme\":\"eclipse\"},on:{\"init\":_vm.editorInit,\"onInput\":_vm.editorInput}},[_c('ul',{staticClass:\"btn-groups\"},[_c('li',{on:{\"click\":_vm.copyText}},[_vm._v(\"复制\")]),_c('li',{class:{'disable':_vm.isUndoBtnDisabled},on:{\"click\":_vm.undo}},[_vm._v(\"后退\")]),_c('li',{class:{'disable':_vm.isSaveBtnDisabled},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_c('li',{class:{'disable':_vm.isRedoBtnDisabled},on:{\"click\":_vm.redo}},[_vm._v(\"前进\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// textarea 复制可换行，input不可换行\r\nexport function copy(val) {\r\n    const textarea = document.createElement('textarea');\r\n    textarea.style.height = 0;\r\n    textarea.value = val;\r\n    document.body.appendChild(textarea);\r\n    textarea.select()\r\n    if (document.execCommand('copy')) {\r\n        document.execCommand('copy');\r\n    }\r\n    document.body.removeChild(textarea);\r\n}","<template>\r\n  <div class=\"toolbar\">\r\n    <vue-ace-editor\r\n      ref=\"editor\"\r\n      :content=\"content\"\r\n      :fontSize=\"14\"\r\n      height=\"300px\"\r\n      lang=\"python\"\r\n      theme=\"eclipse\"\r\n      @init=\"editorInit\"\r\n      @onInput=\"editorInput\"\r\n    >\r\n      <ul class=\"btn-groups\">\r\n        <li @click=\"copyText\">复制</li>\r\n        <li @click=\"undo\" :class=\"{'disable':isUndoBtnDisabled}\">后退</li>\r\n        <li @click=\"save\" :class=\"{'disable':isSaveBtnDisabled}\">保存</li>\r\n        <li @click=\"redo\" :class=\"{'disable':isRedoBtnDisabled}\">前进</li>\r\n      </ul>\r\n    </vue-ace-editor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { copy } from \"@/assets/js/util\";\r\nexport default {\r\n  name: \"toolbar\",\r\n  data() {\r\n    return {\r\n      isSaveBtnDisabled: true,\r\n      isRedoBtnDisabled: false,\r\n      isUndoBtnDisabled: false,\r\n      content: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    editorInit() {\r\n      require(\"brace/ext/language_tools\");\r\n      require(`brace/mode/python`);\r\n      require(`brace/snippets/python`);\r\n      require(`brace/theme/eclipse`);\r\n      if (localStorage.saveEditor) {\r\n        this.content = localStorage.saveEditor;\r\n      }\r\n    },\r\n    editorInput(editor) {\r\n      this.updateBtnStatus(editor);\r\n    },\r\n    copyText() {\r\n      copy(this.$refs.editor.getValue());\r\n    },\r\n    save() {\r\n      if (this.isSaveBtnDisabled) return;\r\n      const editor = this.$refs.editor.save(\"saveEditor\");\r\n      this.updateBtnStatus(editor);\r\n    },\r\n    redo() {\r\n      if (this.isRedoBtnDisabled) return;\r\n      const editor = this.$refs.editor.redo();\r\n      this.updateBtnStatus(editor);\r\n    },\r\n    undo() {\r\n      if (this.isUndoBtnDisabled) return;\r\n      const editor = this.$refs.editor.undo();\r\n      this.updateBtnStatus(editor);\r\n    },\r\n    updateBtnStatus(editor) {\r\n      this.isSaveBtnDisabled = editor.session.getUndoManager().isClean();\r\n      this.isRedoBtnDisabled = !editor.session.getUndoManager().hasRedo();\r\n      this.isUndoBtnDisabled = !editor.session.getUndoManager().hasUndo();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.toolbar {\r\n}\r\n.btn-groups {\r\n  position: absolute;\r\n  z-index: 999;\r\n  top: 12px;\r\n  right: 12px;\r\n}\r\n.btn-groups li {\r\n  display: inline-block;\r\n  padding: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  color: #666;\r\n  font-size: 12px;\r\n  border-radius: 2px;\r\n}\r\n.btn-groups li:hover {\r\n  cursor: pointer;\r\n}\r\n.btn-groups li + li {\r\n  margin-left: 8px;\r\n}\r\n.btn-groups li.disable {\r\n  cursor: not-allowed;\r\n  background-color: #e6e6e6;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=1104df5b&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=1104df5b&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1104df5b\",\n  null\n  \n)\n\ncomponent.options.__file = \"Toolbar.vue\"\nexport default component.exports"],"sourceRoot":""}